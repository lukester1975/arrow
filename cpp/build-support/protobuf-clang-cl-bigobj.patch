diff --git a/CMakeLists.txt b/CMakeLists.txt
index 04cb3303a..9c9e23ae3 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -243,6 +243,9 @@ if (MSVC)
   if (CMAKE_CXX_COMPILER_ID STREQUAL "MSVC")
     # Build with multiple processes
     add_definitions(/MP)
+
+    # Allow big object
+    add_compile_options(/bigobj)
   endif()
   # Set source file and execution character sets to UTF-8
   add_definitions(/utf-8)
@@ -261,8 +264,6 @@ if (MSVC)
     /wd4800 # 'type' : forcing value to bool 'true' or 'false' (performance warning)
     /wd4996 # The compiler encountered a deprecated declaration.
   )
-  # Allow big object
-  add_definitions(/bigobj)
   string(REPLACE "/" "\\" PROTOBUF_SOURCE_WIN32_PATH ${protobuf_SOURCE_DIR})
   string(REPLACE "/" "\\" PROTOBUF_BINARY_WIN32_PATH ${protobuf_BINARY_DIR})
   string(REPLACE "." ","  protobuf_RC_FILEVERSION "${protobuf_VERSION}")
